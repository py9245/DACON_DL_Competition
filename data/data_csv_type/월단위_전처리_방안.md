# 월단위 데이터 전처리 & 교차검증 전략

사회활성화 시점을 예측하는 딥러닝 모델이 월단위 데이터를 안정적으로 학습할 수 있도록, 전처리 단계와 그 효과를 검증할 교차검증 절차를 함께 설계한 다섯 가지 방안을 정리했습니다.

## 1. 캘린더 정규화 + 롤링 기점 교차검증
- 전처리: 기준 월 캘린더를 생성해 누락 월은 결측 플래그와 함께 채워 넣고, 관측 시점이 어긋난 항목은 최근월/다음월로 보간합니다.
- 검증: 초기 몇 개 월을 학습에 사용한 뒤 한 달씩 확장하는 expanding-window 교차검증으로 정규화 효과를 평가합니다.
- 기대 효과: 모델 입력 간격이 일정해져 수렴이 빨라지고, 시점 밀림이 성능에 미치는 영향을 검증 데이터에서 직접 확인할 수 있습니다.

## 2. 외생 변수 증강 + 변수군 교차검증
- 전처리: 소비·이동·정책 이벤트 등 사회활동과 연관된 월별 외부 지표를 수집하여 기준 연월을 키로 병합하고, 결측은 도메인 규칙 기반으로 보간합니다.
- 검증: 변수군(내부 지표만, 외생 지표 포함, 이벤트 더미 포함 등)을 다르게 구성한 뒤 동일한 시계열 교차검증 폴드로 모델을 학습·평가합니다.
- 기대 효과: 어떤 외부 요인이 사회활성화 신호에 기여하는지 객관적으로 비교해 최적의 피처 세트를 확정할 수 있습니다.

## 3. 계절·추세 분해 + 구성요소별 교차검증
- 전처리: STL 또는 Prophet 등으로 시계열을 계절성·추세·잔차 성분으로 분해하고, 각 성분을 별도 피처로 추가하거나 잔차만 학습 데이터로 사용합니다.
- 검증: 분해하지 않은 원본, 추세 제거, 계절 제거, 완전 분해 등 네 가지 입력 구성을 동일한 교차검증 설정에서 평가합니다.
- 기대 효과: 계절성 제거가 실제 예측력 향상에 기여하는지 검증함으로써 과도한 전처리를 피하고 최적의 분해 수준을 선택합니다.

## 4. 이상치·스케일 정제 + 임계값 교차검증
- 전처리: IQR, Hampel 필터 등으로 이상치를 탐지하고 Winsorizing, 로그/Box-Cox 변환, 표준화로 스케일을 통일합니다.
- 검증: 이상치 임계값(예: 1.5·IQR vs 3·IQR), 변환 방식(로그 vs Box-Cox) 등을 교차검증 폴드마다 바꿔 학습한 뒤 성능을 비교합니다.
- 기대 효과: 극단값 제거가 모델을 과도하게 단순화하지 않는지 확인하고, 가장 안정적인 스케일링 조합을 선택할 수 있습니다.

## 5. 집단별 파생 피처 + 세그먼트 교차검증
- 전처리: 지역·연령·행태 등 세부 집단 정보를 기반으로 전년 동월 대비 증감률, 누적 성장률, 군집 라벨 등 파생 피처를 생성합니다.
- 검증: 세그먼트별로 홀드아웃 폴드를 구성하거나 교차검증에서 한 세그먼트를 검증셋으로 돌려가며 학습(leave-one-group-out)합니다.
- 기대 효과: 특정 집단에서만 성능이 과대평가되는 현상을 줄이고, 사회활성화 신호가 먼저 나타나는 집단을 모델이 안정적으로 포착합니다.
